/*!
 * slideViewerPro 1.5
 * Examples and documentation at: 
 * http://www.gcmingati.net/wordpress/wp-content/lab/jquery/svwt/
 * 2009-2011 Gian Carlo Mingati
 * Version: 1.5.0 (02-AUG-2011)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Requires:
 * jQuery v1.6 or later
 * Option:
 * jQuery Timers plugin | plugins.jquery.com/project/timers (for autoslide mode)
 * 
 */
jQuery.extend(jQuery.easing,{easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c}}),jQuery(function(){jQuery("div.svwp").prepend("<img src='../assets/rails.png' class='ldrgif' alt='loading...'/ >")});var j=0;jQuery.fn.slideViewerPro=function(a){return a=jQuery.extend({galBorderWidth:6,thumbsTopMargin:3,thumbsRightMargin:3,thumbsBorderWidth:3,buttonsWidth:20,galBorderColor:"#ff0000",thumbsBorderColor:"#d8d8d8",thumbsActiveBorderColor:"#ff0000",buttonsTextColor:"#ff0000",thumbsBorderOpacity:1,thumbsActiveBorderOpacity:1,easeTime:750,asTimer:4e3,thumbs:5,thumbsPercentReduction:12,thumbsVis:!0,easeFunc:"easeInOutExpo",leftButtonInner:"-",rightButtonInner:"+",autoslide:!1,typo:!1,typoFullOpacity:.9,shuffle:!1},a),this.each(function(){function b(a){var b=a.size();while(--b){var c=Math.floor(Math.random()*b),d=a.slice(b,b+1);a.slice(c,c+1).insertAfter(d)}}var c=jQuery(this);a.shuffle?b(c.find("li")):null,c.find("img.ldrgif").remove(),c.removeClass("svwp").addClass("slideViewer"),c.attr("id","svwp"+j);var d=c.find("img").width(),e=c.find("img").height(),f=c.find("li").size();f>=a.thumbs?null:a.thumbs=f;var g=d*f,h=Math.round(d*a.thumbsPercentReduction/100),i=Math.round(e*a.thumbsPercentReduction/100),k=0,l=!0,m=!0;c.find("ul").css("width",g).wrap(jQuery("<div style='width:"+d+"px; overflow: hidden; position: relative; top: 0; left: 0'>")),c.css("width",d),c.css("height",e),c.each(function(b){function o(){k==f-a.thumbs?n.addClass("r_dis"):n.removeClass("r_dis"),k==f-a.thumbs?l=!1:l=!0,k==0?g.addClass("l_dis"):g.removeClass("l_dis"),k==0?m=!1:m=!0}a.typo&&jQuery(this).find("img").each(function(a){jQuery(this).after("<span class='typo' style='position: absolute; width:"+(d-12)+"px; margin: 0 0 0 -"+d+"px'>"+jQuery(this).attr("alt")+"</span>")}),jQuery(this).after("<div class='thumbSlider' id='thumbSlider"+j+"'><ul></ul></div>"),jQuery(this).next().after("<a href='#' class='left' id='left"+j+"'><span>"+a.leftButtonInner+"</span></a><a href='#' class='right' id='right"+j+"'><span>"+a.rightButtonInner+"</span></a>"),jQuery(this).find("li").each(function(a){jQuery("div#thumbSlider"+j+" ul").append("<li><a title='"+jQuery(this).find("img").attr("alt")+"' href='#'><img width='"+h+"' height='"+i+"' src='"+jQuery(this).find("img").attr("src")+"' /><p class='tmbrdr'>&nbsp;</p></a></li>")}),jQuery("div#thumbSlider"+j+" a").each(function(b){jQuery(this).bind("click",function(){jQuery(this).find("p.tmbrdr").css({borderColor:a.thumbsActiveBorderColor,opacity:a.thumbsActiveBorderOpacity}),jQuery(this).parent().parent().find("p.tmbrdr").not(jQuery(this).find("p.tmbrdr")).css({borderColor:a.thumbsBorderColor,opacity:a.thumbsBorderOpacity});var e=-(d*b);return e!=c.find("ul").css("left").replace(/px/,"")?c.find("span.typo").animate({opacity:0},250):null,c.find("ul").animate({left:e},a.easeTime,a.easeFunc,function(){c.find("span.typo").animate({opacity:a.typoFullOpacity},250)}),!1})});var g=jQuery("a#left"+j),n=jQuery("a#right"+j);n.bind("click",function(){return l&&(f-k>a.thumbs*2||f%a.thumbs==0?k+=a.thumbs:k+=f%a.thumbs),l=!1,jQuery(this).prev().prev().find("ul:not(:animated)").animate({left:-(h+a.thumbsRightMargin)*k},500,a.easeFunc,function(){o()}),!1}),g.bind("click",function(){return m&&k!=0&&(f-k>a.thumbs||f%a.thumbs==0?k-=a.thumbs:k-=f%a.thumbs),m=!1,jQuery(this).prev().find("ul:not(:animated)").animate({left:-(h+a.thumbsRightMargin)*k},500,a.easeFunc,function(){o()}),!1});var p=a.thumbsBorderWidth,q=a.galBorderWidth;jQuery(".slideViewer a img").css({border:"0"}),a.typo&&jQuery(this).find("span.typo").each(function(b){jQuery(this).css({marginTop:e-jQuery(this).innerHeight(),opacity:a.typoFullOpacity})}),jQuery("div#svwp"+j).css({border:a.galBorderWidth+"px solid "+a.galBorderColor}),jQuery("div#thumbSlider"+j).css({position:"relative",left:q,top:a.thumbsTopMargin+"px",width:a.thumbs*h+(a.thumbsRightMargin*a.thumbs-a.thumbsRightMargin),height:i,textAlign:"center",overflow:"hidden",margin:"0 auto"}),jQuery("div#thumbSlider"+j+" ul").css({width:h*f+a.thumbsRightMargin*f,position:"relative",left:"0",top:"0"}),jQuery("div#thumbSlider"+j+" ul li").css({marginRight:a.thumbsRightMargin}),jQuery("div#thumbSlider"+j).find("p.tmbrdr").css({width:h-p*2+"px",height:i-p*2+"px",top:-i+"px",border:a.thumbsBorderWidth+"px solid "+a.thumbsBorderColor,opacity:a.thumbsBorderOpacity}),jQuery("div#thumbSlider"+j+" a:first p.tmbrdr").css({borderColor:a.thumbsActiveBorderColor,opacity:a.thumbsActiveBorderOpacity});var r=d/2+jQuery("div#thumbSlider"+j).width()/2+a.thumbsRightMargin+q,s=d/2-jQuery("div#thumbSlider"+j).width()/2-(a.buttonsWidth+a.thumbsRightMargin)+q,t=g.find("img"),u=n.find("img");t.length!=0&&u.length!=0&&(jQuery(t).load(function(){jQuery(this).css({margin:Math.round(i/2-jQuery(this).height()/2)+"px 0 0 0"})}),jQuery(u).load(function(){jQuery(this).css({margin:Math.round(i/2-jQuery(this).height()/2)+"px 0 0 0"})})),jQuery("a#left"+j).css({display:"block",textAlign:"center",width:a.buttonsWidth+"px",height:i+"px",margin:-(i-a.thumbsTopMargin)+"px 0 0 "+s+"px",textDecoration:"none",lineHeight:i+"px",color:a.buttonsTextColor}),jQuery("a#right"+j).css({display:"block",textAlign:"center",width:a.buttonsWidth+"px",height:i+"px",margin:-i+"px 0 0 "+r+"px",textDecoration:"none",lineHeight:i+"px",color:a.buttonsTextColor}),o();if(a.autoslide){var b=1;jQuery("div#thumbSlider"+j).everyTime(a.asTimer,"asld",function(){jQuery(this).find("a").eq(b).trigger("click"),b==0?(k=0,m=!1,jQuery("div#thumbSlider"+j).find("ul:not(:animated)").animate({left:-(h+a.thumbsRightMargin)*k},500,a.easeFunc,function(){o()})):m=!0,b%a.thumbs==0?jQuery(this).next().next().trigger("click"):null,b<f-1?b++:b=0}),jQuery("a#right"+j).bind("mouseup",function(){jQuery(this).prev().prev().stopTime("asld")}),jQuery("a#left"+j).bind("mouseup",function(){jQuery(this).prev().stopTime("asld")}),jQuery("div#thumbSlider"+j+" a").bind("mouseup",function(){jQuery(this).parent().parent().parent().stopTime("asld")})}var v=a.thumbsVis?"block":"none";jQuery("div#thumbSlider"+j+", a#left"+j+", a#right"+j).wrapAll("<div style='width:"+d+"px; display: "+v+"' id='ui"+j+"'></div>"),jQuery("div#svwp"+j+", div#ui"+j).wrapAll("<div style='width:"+d+"px'></div>")}),jQuery("div#thumbSlider"+j).width()+a.buttonsWidth*2>=d?alert("ALERT: THE THUMBNAILS SLIDER IS TOO WIDE! \nthumbsPercentReduction and/or buttonsWidth needs to be scaled down!"):null,j++})}